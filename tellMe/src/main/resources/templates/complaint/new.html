<!-- 민원작성 페이지 -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layouts/navbar::tellMe_head"/>
<head th:replace="layouts/footer::tellMe_foot"/>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>민원 작성</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/new.css}" />
    <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT@2/fonts/static/woff2/SUIT.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <script th:src="@{/js/new.js}"></script>
</head>
<body>
<div th:replace="layouts/navbar::tellMe_header"></div>
<main>
    <div class="complaint-header">
        <h1>민원 작성</h1>
    </div>
<form th:action="@{/complaint/create}" th:object="${question}" method="post" enctype="multipart/form-data" onsubmit="return spamAPI(event)">
    <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
    <input type="hidden" th:field="*{userId}" id="userId"/>
    <table class="form-table">
        <tr><!-- 제목 -->
            <th><label for="title">제목</label></th>
            <td><input type="text" id="title" th:field="*{title}" required /></td>
        </tr>
        <tr><!-- 공개 여부 -->
            <th>공개 여부</th>
            <td>
                <div th:each="option : ${question.reveal.values()}">
                    <input type="radio" th:field="*{reveal}" th:value="${option}" th:id="${option}" />
                    <label th:for="${option}" th:text="${option}"></label>
                </div>
            </td>
        </tr>
        <tr><!-- 내용 -->
            <th><label for="content">내용</label></th>
            <td><textarea id="content" th:field="*{content}" rows="6" required></textarea></td>
        </tr>
        <tr><!-- 첨부파일 -->
            <th>첨부파일</th>
            <td>
                <div th:each="i : ${#numbers.sequence(1, 3)}" class="file-upload">
                    <input type="hidden" th:field="*{__${'file' + i}__}" />
                    <input type="file" th:id="'fileImage' + ${i}" th:name="files"
                           accept="image/png, image/jpeg, image/jpg, application/pdf, application/hwp,
                       application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/plain"
                           class="file-input-field"/>
                    <button type="button" class="remove-file-button" th:onclick="'resetFileInput(' + ${i} + ')'">취소</button>
                </div>
            </td>
        </tr>
    </table>
    <div><!-- 개인정보 수집 동의 -->
        <input type="checkbox" id="agreement" name="agreement" required />
        <label for="agreement">개인정보 수집 및 이용에 동의합니다.</label>
    </div>
    <div><!-- 버튼 -->
        <button type="submit">등록</button>
        <button type="button">목록</button>
        <button type="button">임시저장</button>
    </div>
</form>
</main>
<div th:replace="layouts/footer::tellMe_footer"></div>
</body>
</html>
</html>